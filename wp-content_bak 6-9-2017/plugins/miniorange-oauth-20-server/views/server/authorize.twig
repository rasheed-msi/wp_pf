{% extends "server/base.twig" %}

{% block content %}
    <h3>
        Welcome to the OAuth2.0 Server!
    </h3>
    <p>
        You have been sent here by <strong>{{client_id}}</strong>.  {{client_id}} would like to access the following data:
    </p>
    <ul>
        <li>WordPress user profile data</li>
        <ul><li>Email</li>
        <li>Username</li>
        <li>User Roles</li>
		<li>Name</li>
		<li>Display Name</li>
		<li>Nick Name</li>
		<li>Profile Picture</li>
		</ul>
    </ul>
    
    <p>Click the button below to complete the authorize request and grant an <code>{{ response_type == 'code' ? 'Authorization Code' : 'Access Token' }}</code> to {{client_id}}.
    <ul class="authorize_options">
        <li>
            <form action="{{ path('authorize_post') ~ '?' ~ app.request.queryString }}" method="post">
                <input type="submit" class="button authorize" value="Yes, I Authorize This Request" />
                <input type="hidden" name="authorize" value="1" />
            </form>
        </li>
        <li class="cancel">
            <form id="cancel" action="{{ path('authorize_post') ~ '?' ~ app.request.queryString }}" method="post">
                <a href="#" onclick="document.getElementById('cancel').submit()">cancel</a>
                <input type="hidden" name="authorize" value="0" />
            </form>
        </li>
    </ul>
{% endblock %}